{% extends "base.html" %}

{% block title %}
    <title>Профиль</title>
{% endblock %}

{% block content %}
    <div class="mx-auto center_block birds-background" style="width: 560px;">
        <div style="margin-bottom: 200px;">
            <div class="container">
                <p style="text-align: center; font-size: 24px;">Личные данные</p>
                <p>Электронная почта: {{ current_user.email }}</p>
                <p style="text-align: center; font-size: 24px;">Настройки</p>
                <p style="color: rgb(0, 107, 179);">Изменить пароль</p>
                <form action="\change_password" method="post" style="margin-left: 25px;">
                    {{ form_psswd.hidden_tag() }}
                    <div class="form-group">{{ form_psswd.old_password(class="form-control", placeholder="Старый пароль", style="width: 250px;")}}</div>
                    <div class="form-group">{{ form_psswd.password(class="form-control", placeholder="Новый пароль", style="width: 250px;")}}</div>
                    <div class="form-group">{{ form_psswd.confirm_password(class="form-control", placeholder="Подтвердите пароль", style="width: 250px;")}}</div>
                    {% for category, message in get_flashed_messages(with_categories=True) %}
                        {% if category == "password_messages" %}
                            <div class="error-message">{{ message }}</div>
                        {% endif %}
                    {% endfor %}
                    {{ form_psswd.submit(type="submit", class="btn btn-info")}}
                </form>
                <br><br>
                <p style="color: rgb(0, 107, 179);">Изменить электронную почту</p>
                <form action="\change_email" method="post" style="margin-left: 25px;">
                    {{ form_email.hidden_tag() }}
                    <div class="form-group">{{ form_email.email(class="form-control", placeholder="Новая электронная почта", style="width: 250px;")}}</div>
                    {% for category, message in get_flashed_messages(with_categories=True) %}
                        {% if category == "email_messages" %}
                            <div class="error-message">{{ message }}</div>
                        {% endif %}
                    {% endfor %}
                    {{ form_email.submit(type="submit", class="btn btn-info")}}
                </form>
            </div>
        </div>
    </div>
{% endblock %}
